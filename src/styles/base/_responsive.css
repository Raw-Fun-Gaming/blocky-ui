/* ========================================
   RESPONSIVE DESIGN MEDIA QUERIES
   Mobile-first responsive design for all blocky components
   Matches Stack Rush game breakpoints
   ======================================== */

/* ========================================
   BIG WIDGET / POPOUT L (800×450)
   15% smaller than desktop
   ======================================== */
@media (max-width: 840px) and (min-width: 769px) {
  .blocky-title-enhanced,
  .blocky-title {
    font-size: calc(var(--blocky-font-xl) * 0.85);
  }

  .blocky-btn-wrapper {
    padding: calc(var(--blocky-padding-md) * 0.85);
    font-size: calc(var(--blocky-font-md) * 0.85);
  }
}

/* ========================================
   TABLET AND MOBILE LANDSCAPE (≤768px)
   ======================================== */
@media (max-width: 768px) {
  .blocky-modal-max-width {
    --blocky-modal-max-width: calc(100% - 60px);
  }

  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-lg);
  }

  .blocky-content {
    padding: var(--blocky-padding-md) var(--blocky-padding-sm);
  }

  .blocky-modal-wrapper,
  .blocky-card-wrapper {
    min-width: 280px;
    max-width: calc(100vw - 60px);
  }
}

/* ========================================
   MOBILE PORTRAIT (≤560px)
   ======================================== */
@media (max-width: 560px) {
  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-md);
    letter-spacing: var(--blocky-letter-spacing-normal);
  }

  .blocky-content {
    padding: var(--blocky-padding-sm);
  }

  .blocky-modal-wrapper,
  .blocky-card-wrapper,
  .blocky-info-wrapper {
    min-width: 240px;
    max-width: calc(100vw - 32px);
    border-width: var(--blocky-border-width-thin);
  }

  .blocky-btn-wrapper {
    padding: var(--blocky-padding-sm) var(--blocky-padding-md);
    font-size: var(--blocky-font-sm);
    border-width: var(--blocky-border-width-thin);
  }

  .blocky-close-btn {
    width: 28px;
    height: 28px;
    font-size: var(--blocky-font-md);
    border-width: var(--blocky-border-width-thin);
  }
}

/* ========================================
   SMALL MOBILE (≤480px)
   ======================================== */
@media (max-width: 480px) {
  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-sm);
  }

  .blocky-modal-wrapper,
  .blocky-card-wrapper,
  .blocky-info-wrapper {
    min-width: 220px;
    max-width: calc(100vw - 24px);
  }

  .blocky-btn-wrapper {
    padding: calc(var(--blocky-padding-sm) * 0.75) var(--blocky-padding-md);
    font-size: var(--blocky-font-xs);
  }

  .blocky-content {
    padding: calc(var(--blocky-padding-sm) * 0.75);
  }
}

/* ========================================
   SMALL WIDGET / POPOUT S (400×225)
   30% smaller, landscape orientation
   ======================================== */
@media screen and (max-width: 480px) and (orientation: landscape) {
  .blocky-modal-wrapper,
  .blocky-card-wrapper,
  .blocky-info-wrapper {
    min-width: 200px;
    max-width: calc(100vw - 20px);
  }

  .blocky-title-enhanced,
  .blocky-title {
    font-size: calc(var(--blocky-font-xs) * 0.9);
  }

  .blocky-btn-wrapper {
    padding: calc(var(--blocky-padding-xs) * 0.75) var(--blocky-padding-sm);
    font-size: calc(var(--blocky-font-xs) * 0.9);
    border-width: 1px;
  }

  .blocky-content {
    padding: var(--blocky-padding-xs);
  }

  .blocky-close-btn {
    width: 24px;
    height: 24px;
    font-size: var(--blocky-font-sm);
    border-width: 1px;
  }
}

/* ========================================
   HEIGHT-BASED RESPONSIVE ADJUSTMENTS
   Progressive scaling for different screen heights
   ======================================== */

/* Medium height screens (small laptops, tablets in landscape) */
@media (max-height: 520px) {
  .blocky-modal-wrapper,
  .blocky-info-wrapper {
    max-height: 90vh;
    overflow-y: auto;
  }

  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-md);
  }
}

/* Small height screens (mobile landscape) */
@media (max-height: 380px) {
  .blocky-modal-wrapper,
  .blocky-info-wrapper {
    max-height: 85vh;
  }

  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-sm);
  }

  .blocky-btn-wrapper {
    padding: var(--blocky-padding-xs) var(--blocky-padding-sm);
    font-size: var(--blocky-font-xs);
  }
}

/* Very small height screens */
@media (max-height: 280px) {
  .blocky-modal-wrapper,
  .blocky-info-wrapper {
    max-height: 80vh;
  }

  .blocky-content {
    padding: var(--blocky-padding-xs);
  }

  .blocky-btn-wrapper {
    padding: calc(var(--blocky-padding-xs) * 0.5) var(--blocky-padding-sm);
    font-size: calc(var(--blocky-font-xs) * 0.9);
  }
}

/* ========================================
   COMBINED WIDTH/HEIGHT RESPONSIVE ADJUSTMENTS
   Small screens with limited space
   ======================================== */

/* Small screens with low height */
@media (max-width: 600px) and (max-height: 400px) {
  .blocky-modal-wrapper,
  .blocky-card-wrapper,
  .blocky-info-wrapper {
    font-size: var(--blocky-font-sm);
  }

  .blocky-title-enhanced,
  .blocky-title {
    font-size: var(--blocky-font-md);
  }

  .blocky-content {
    padding: var(--blocky-padding-sm);
  }
}

/* ========================================
   ORIENTATION-SPECIFIC ADJUSTMENTS
   ======================================== */

/* Landscape mode adjustments */
@media (orientation: landscape) {
  .blocky-modal-wrapper {
    max-height: 95vh;
    overflow-y: auto;
  }
}

/* Portrait mode adjustments */
@media (orientation: portrait) {
  .blocky-modal-wrapper {
    max-height: 90vh;
    overflow-y: auto;
  }
}

/* ========================================
   ACCESSIBILITY & PREFERENCES
   ======================================== */

/* High DPI screens - enhance effects */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx) {
  .blocky-3d,
  .blocky-btn-wrapper,
  .blocky-modal-wrapper,
  .blocky-card-wrapper {
    box-shadow: var(--blocky-shadow-base), var(--blocky-shadow-far),
      var(--blocky-inset-combined), 0 0 1px rgba(255, 255, 255, 0.1);
  }
}

/* Reduce motion for users who prefer less animation */
@media (prefers-reduced-motion: reduce) {
  .blocky-modal-wrapper,
  .blocky-card-wrapper,
  .blocky-info-wrapper,
  .blocky-btn-wrapper,
  .blocky-tag-wrapper {
    transition: none;
    animation: none;
  }

  .blocky-3d:hover {
    transform: none;
  }

  .blocky-3d:active {
    transform: none;
  }
}

/* ========================================
   SCROLLBAR STYLING
   Consistent with Stack Rush theme
   ======================================== */

.blocky-modal-wrapper::-webkit-scrollbar,
.blocky-content::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.blocky-modal-wrapper::-webkit-scrollbar-track,
.blocky-content::-webkit-scrollbar-track {
  background: var(--blocky-bg-dark);
  border-radius: var(--blocky-border-radius-sm);
}

.blocky-modal-wrapper::-webkit-scrollbar-thumb,
.blocky-content::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: var(--blocky-border-radius-sm);
}

.blocky-modal-wrapper::-webkit-scrollbar-thumb:hover,
.blocky-content::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* Thinner scrollbar for mobile */
@media (max-width: 560px) {
  .blocky-modal-wrapper::-webkit-scrollbar,
  .blocky-content::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
}
